(function(e){function t(t){for(var i,a,n=t[0],l=t[1],c=t[2],d=0,m=[];d<n.length;d++)a=n[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],i=!0,n=1;n<r.length;n++){var l=r[n];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=r[0]))}return e}var i={},o={app:0},s=[];function a(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=i,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"menu"},[r("v-app-bar",{staticClass:"navbar",attrs:{dense:"",dark:""}},[r("v-app-bar-nav-icon"),r("v-toolbar-title",[r("router-link",{attrs:{to:{name:"Home",params:{listefilms:e.listefilms}}}},[e._v("Home")]),r("router-link",{attrs:{to:{name:"Admin"}}},[e._v("Admin")])],1),r("v-spacer"),r("v-menu",{attrs:{left:"",bottom:""}})],1)],1),r("v-app",[r("v-container",[r("router-view")],1)],1)],1)},s=[],a=(r("159b"),r("caad"),r("bc3a")),n=r.n(a),l={name:"App",data:function(){return{listefilms:[{id:1,title:"Titanic",genres:["comedy","drama","thriller"],rating:9,review:"The most beautiful romantic movie",description:"top",picture:"https://m.media-amazon.com/images/I/71kfzNYWKxL._AC_SY606_.jpg"},{id:2,title:"Thelma et Louise",genres:["drama","thriller"],rating:8,review:"American thriller",description:"cool",picture:"https://www.telerama.fr/sites/tr_master/files/41a10de0-0349-42ac-8c9c-82abd214bc4d_2.jpg"},{id:3,title:"Retour vers le futur",genres:["comedy","drama","thriller"],rating:10,review:"Best movie",description:"nice",picture:"https://images.affiches-et-posters.com//albums/3/2614/2614-affiche-film-retour-vers-le-futur-2.jpg"}]}},computed:{allgenres:function(){var e=[];return this.listeMovies.forEach((function(t){t.genres.forEach((function(t){e.includes(t)||e.push(t)}))})),e}},methods:{getGenres:function(){var e=this;n.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=80d0dd074cbffeb2db4b0123882c7f44&language=en-US").then((function(t){e.searchGenres=t.data.genres})).catch((function(t){e.error=t}))}}},c=l,u=(r("5c0b"),r("2877")),d=Object(u["a"])(c,o,s,!1,null,null,null),m=d.exports,v=r("8c4f"),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("h1",[e._v("Welcome to my cinema")]),i("img",{attrs:{alt:"cinema",src:r("d0a2")}}),e._v(" "),i("br"),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectCategory,expression:"selectCategory"}],attrs:{name:"categories",id:"categories"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectCategory=t.target.multiple?r:r[0]}}},[i("option",{attrs:{value:""}},[e._v("Choisir la categorie")]),e._l(e.searchGenres,(function(t){return i("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2),i("br"),i("h2",{staticClass:"affiche"},[e._v("A l'affiche : "+e._s(e.moviesfilter.length))]),i("h2",[e._v("Nombres de films : "+e._s(e.moviesfilter.length))]),e._l(e.moviesfilter,(function(e){return i("Movie",{key:e.id,attrs:{movie:e,displayAll:!1}})}))],2)},p=[],h=(r("4de4"),r("2532"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"movie"}},[r("h2",[e._v(e._s(e.movie.title))]),r("img",{staticClass:"imgaffiche",attrs:{src:e.movie.picture,alt:"affiche"}}),r("v-rating",{attrs:{readonly:"",hover:"",length:"10",size:"64","background-color":"orange lighten-3",color:"orange"},model:{value:e.movie.rating,callback:function(t){e.$set(e.movie,"rating",t)},expression:"movie.rating"}}),r("h3",[e._v("Categories:")]),r("ul",{staticClass:"listeul"},[e._l(e.movie.genres,(function(t,i){return r("li",{key:i,staticClass:"liste",attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),r("h3",{directives:[{name:"show",rawName:"v-show",value:e.displayAllDetails,expression:"displayAllDetails"}]},[e._v("Description:")]),r("li",{directives:[{name:"show",rawName:"v-show",value:e.displayAllDetails,expression:"displayAllDetails"}],staticClass:"liste"},[e._v(" "+e._s(e.movie.description)+" ")]),r("h3",{directives:[{name:"show",rawName:"v-show",value:e.displayAllDetails,expression:"displayAllDetails"}]},[e._v("Review :")]),r("li",{directives:[{name:"show",rawName:"v-show",value:e.displayAllDetails,expression:"displayAllDetails"}],staticClass:"liste"},[e._v(e._s(e.movie.review))]),r("router-link",{attrs:{to:{name:"Movie",params:{id:e.movie.id,movie:e.movie,displayAllDetails:!0}}}},[r("button",{staticClass:"bdisplay"},[e._v("DÃ©tails")])])],2)],1)}),g=[],b={name:"Movie",props:{movie:Object,displayAllDetails:Boolean},data:function(){return{}}},_=b,y=(r("6c92"),Object(u["a"])(_,h,g,!1,null,null,null)),w=y.exports,A=new i["default"],k=A,x={name:"Home",components:{Movie:w},props:{listefilms:Array},data:function(){return{selectCategory:"",searchGenres:[]}},methods:{addNewMovie:function(e){console.log("newmovie avant push : "+e.title),this.listefilms.push(e)},getGenres:function(){var e=this;n.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=80d0dd074cbffeb2db4b0123882c7f44&language=en-US").then((function(t){e.searchGenres=t.data.genres})).catch((function(t){e.error=t}))}},computed:{moviesfilter:function(){var e=this;return""===this.selectCategory?this.listefilms:this.listefilms.filter((function(t){return t.genres.includes(e.selectCategory)}))}},created:function(){this.getGenres()},mounted:function(){var e=this;k.$on("add-new-movie",(function(t){console.log("payload",t),e.addNewMovie(t)}))}},M=x,C=Object(u["a"])(M,f,p,!1,null,null,null),j=C.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"moviecreation"}},[r("router-link",{attrs:{to:{name:"Home",params:{listefilms:e.listefilms}}}},[r("button",{staticClass:"back"},[e._v("Back")])]),r("br"),r("h2",{staticClass:"affiche"},[e._v("Ajouter un film")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.forms.id,expression:"forms.id"}],attrs:{id:"id",type:"number",placeholder:"ID Movie"},domProps:{value:e.forms.id},on:{input:function(t){t.target.composing||e.$set(e.forms,"id",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.forms.title,expression:"forms.title"}],attrs:{id:"title",type:"text",placeholder:"Title",required:""},domProps:{value:e.forms.title},on:{input:function(t){t.target.composing||e.$set(e.forms,"title",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.forms.overview,expression:"forms.overview"}],attrs:{id:"overview",type:"text",placeholder:"Overview"},domProps:{value:e.forms.overview},on:{input:function(t){t.target.composing||e.$set(e.forms,"overview",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.forms.description,expression:"forms.description"}],attrs:{id:"description",type:"text",placeholder:"Description"},domProps:{value:e.forms.description},on:{input:function(t){t.target.composing||e.$set(e.forms,"description",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.forms.poster_path,expression:"forms.poster_path"}],attrs:{id:"picture",type:"text",placeholder:"Picture"},domProps:{value:e.forms.poster_path},on:{input:function(t){t.target.composing||e.$set(e.forms,"poster_path",t.target.value)}}}),r("br"),r("label",{attrs:{for:"genres"}},[e._v(" Genres :")]),e._l(e.searchGenres,(function(t,i){return r("div",{key:i},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.forms.genre_ids,expression:"forms.genre_ids"}],attrs:{type:"checkbox",id:"genres",label:t.name},domProps:{value:t.id,checked:Array.isArray(e.forms.genre_ids)?e._i(e.forms.genre_ids,t.id)>-1:e.forms.genre_ids},on:{change:function(r){var i=e.forms.genre_ids,o=r.target,s=!!o.checked;if(Array.isArray(i)){var a=t.id,n=e._i(i,a);o.checked?n<0&&e.$set(e.forms,"genre_ids",i.concat([a])):n>-1&&e.$set(e.forms,"genre_ids",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.forms,"genre_ids",s)}}}),e._v(" "+e._s(t.name)+" ")])})),r("v-rating",{attrs:{hover:"",length:"10",size:"20","background-color":"orange lighten-3",color:"orange"},model:{value:e.forms.vote_average,callback:function(t){e.$set(e.forms,"vote_average",t)},expression:"forms.vote_average"}}),r("button",{staticClass:"buttonAddMovie",on:{click:e.emitAddMovie}},[e._v(" Ajouter un Film ")]),r("v-textarea",{attrs:{label:"searchMovies","auto-grow":"",outLined:"",row:"1","row-height":"5"},on:{keyup:e.getResult},model:{value:e.searchmyMovie,callback:function(t){e.searchmyMovie=t},expression:"searchmyMovie"}}),e._l(e.searchMovies,(function(t){return r("v-list-item",{key:t.id},[e._v(" "+e._s(t.title)+" "),r("button",{staticClass:"buttonAddMovie",on:{click:function(r){return e.storeNewMovie(t)}}},[e._v(" Ajouter ")])])}))],2)},O=[],P=(r("a4d3"),r("e01a"),{name:"MovieCreation",props:{listefilms:Array},data:function(){return{forms:{id:0,title:"",genre_ids:[],vote_average:0,overview:"",description:"",poster_path:""},searchMovies:[],searchGenres:[],searchmyMovie:"",movieAdded:!1}},methods:{emitAddMovie:function(){var e={id:this.forms.id,title:this.forms.title,genres:this.forms.genre_ids,rating:this.forms.vote_average,review:this.forms.overview,description:this.forms.description,picture:this.forms.poster_path};console.log("data film avant emit : "+e.title),k.$emit("add-new-movie",e)},getResult:function(){var e=this;""!==this.searchmyMovie&&n.a.get("https://api.themoviedb.org/3/search/movie?api_key=80d0dd074cbffeb2db4b0123882c7f44&query="+this.searchmyMovie+"&page=1").then((function(t){e.searchMovies=t.data.results})).catch((function(t){e.error=t}))},storeNewMovie:function(e){this.movieAdded=!0,this.forms=e},getGenres:function(){var e=this;n.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=80d0dd074cbffeb2db4b0123882c7f44&language=en-US").then((function(t){e.searchGenres=t.data.genres})).catch((function(t){e.error=t}))},alertinfo:function(e){this.$toastr.e(e)}},watch:{movieAdded:function(e,t){e!==t&&this.alertinfo("Votre formulaire est bien rempli!")}},mounted:function(){console.log("je suis affichÃ©!"),this.getGenres()},destroyed:function(){console.log("je suis dÃ©truis")}}),$=P,D=(r("b628"),Object(u["a"])($,N,O,!1,null,null,null)),G=D.exports;i["default"].use(v["a"]);var S=[{path:"/",name:"Home",component:j,props:!0},{path:"/Admin",name:"Admin",component:G,props:!0},{path:"/Movie/:id",name:"Movie",component:w,props:!0}],T=new v["a"]({mode:"history",base:"/",routes:S}),E=T,H=r("ce5b"),z=r.n(H);r("bf40");i["default"].use(z.a);var B={theme:{dark:!0}},R=new z.a(B),U=r("025a");i["default"].config.productionTip=!1,i["default"].use(U["a"],{defaultTimeout:3e3,defaultProgressBar:!1,defaultProgressBarValue:0,defaultType:"error",defaultPosition:"toast-top-right",defaultCloseOnHover:!1,defaultStyle:{"background-color":"red"},defaultClassNames:["animated","zoomInUp"]}),new i["default"]({router:E,render:function(e){return e(m)},vuetify:R}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"6c92":function(e,t,r){"use strict";r("82a6")},"82a6":function(e,t,r){},8451:function(e,t,r){},"9c0c":function(e,t,r){},b628:function(e,t,r){"use strict";r("8451")},d0a2:function(e,t,r){e.exports=r.p+"img/cinema.37649084.jpg"}});
//# sourceMappingURL=app.f4fdfdd2.js.map